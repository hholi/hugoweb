<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=twitter:card content="summary"><meta name=twitter:title content="My workflow for posts"><meta name=twitter:description content><meta name=twitter:site content="@HallgeirHolien"><meta property="og:title" content="My workflow for posts &#183; Welcome"><meta property="og:site_name" content="Welcome"><meta property="og:url" content="https://www.hallgeirholien.no/post/site-workflow/"><meta property="og:image" content="/images/large_Reach.jpg"><meta property="og:description" content><meta property="og:type" content="article"><meta property="article:published_time" content="2017-02-23T00:00:00Z"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Lightroom"><meta property="article:tag" content="github"><meta property="article:tag" content="deploy"><title>My workflow for posts &#183; Welcome</title><meta name=description content="How the site is updated Here I describe the steps to get a new post on the site. This will serve as my reference for future work.
Prepare images in Lightroom Af"><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://www.hallgeirholien.no/images/favicon.ico><link rel=apple-touch-icon href=https://www.hallgeirholien.no/images/apple-touch-icon.png><link rel=stylesheet type=text/css href=https://www.hallgeirholien.no/css/screen.css><link rel=stylesheet type=text/css href=https://www.hallgeirholien.no/css/nav.css><link href=https://www.hallgeirholien.no/index.xml rel=alternate type=application/rss+xml title=Welcome><meta name=generator content="Hugo 0.79.1"><link rel=canonical href=https://www.hallgeirholien.no/post/site-workflow/><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","publisher":{"@type":"Organization","name":null},"author":{"@type":"Person","name":null,"url":"https://hallgeirholien.no/","sameAs":[]},"headline":"My workflow for posts","name":"My workflow for posts","wordCount":286,"timeRequired":"PT2M","inLanguage":{"@type":"Language","alternateName":"en"},"url":"https://www.hallgeirholien.no/post/site-workflow/","datePublished":"2017-02-23T00:00Z","dateModified":"2017-02-23T00:00Z","keywords":"Hugo, Lightroom, github, deploy","description":"","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.hallgeirholien.no/post/site-workflow/"}}</script></head><body class=nav-closed><div class=nav><h3 class=nav-title>Menu</h3><a href=# class=nav-close><span class=hidden>Close</span></a><ul><li class=nav-opened role=presentation><a href=https://www.hallgeirholien.no/about/>About me</a></li><li class="nav-opened nav-current" role=presentation><a href=https://www.hallgeirholien.no/post/site-workflow/>My workflow for posts</a></li><li class=nav-opened role=presentation><a href=https://www.hallgeirholien.no/post/arduino-mqtt/>Small IoT project</a></li><li class=nav-opened role=presentation><a href=https://www.hallgeirholien.no/>My Blog</a></li></ul><a class="subscribe-button icon-feed" href=https://www.hallgeirholien.no/index.xml>Subscribe</a></div><span class=nav-cover></span><div class=site-wrapper><header class="main-header post-head no-cover"><nav class="main-nav clearfix"><a class=menu-button href=#><span class=burger>&#9776;</span><span class=word>Menu</span></a></nav></header><main class=content role=main><article class="post post"><header class=post-header><h1 class=post-title>My workflow for posts</h1><small></small><section class=post-meta><time class=post-date datetime=2017-02-23T00:00:00Z>Feb 23, 2017</time>
<span class="post-tag small"><a href=https://www.hallgeirholien.no//tags/hugo/>#Hugo</a></span>
<span class="post-tag small"><a href=https://www.hallgeirholien.no//tags/lightroom/>#Lightroom</a></span>
<span class="post-tag small"><a href=https://www.hallgeirholien.no//tags/github/>#github</a></span>
<span class="post-tag small"><a href=https://www.hallgeirholien.no//tags/deploy/>#deploy</a></span></section></header><section class=post-content><h1 id=how-the-site-is-updated>How the site is updated</h1><p>Here I describe the steps to get a new post on the site.
This will serve as my reference for future work.</p><h3 id=prepare-images-in-lightroom>Prepare images in Lightroom</h3><p>After doing the initial image adjustment I tag them such that they are included in my collection for web.
The selected images is exported in smaller dimension and compressed format suitable for the web.
The export is saved as a template with image processing settings and export location within my local git working folder. The location is <code>website/static/images</code>.</p><h3 id=creating-the-post>Creating the post</h3><p>In the hugo website folder I run <code>hugo new post/title-of-the-post.md</code> which create the html files.
The first section in the md file is the frontmatter with the post metadata:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#f92672>+++</span>
<span style=color:#a6e22e>comments</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>  
<span style=color:#a6e22e>draft</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>  
<span style=color:#a6e22e>share</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
<span style=color:#a6e22e>slug</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
<span style=color:#a6e22e>author</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
<span style=color:#a6e22e>menu</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
<span style=color:#a6e22e>tags</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;tag1&#34;</span>, <span style=color:#e6db74>&#34;tag2&#34;</span>]
<span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
<span style=color:#a6e22e>title</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;title of the post&#34;</span>
<span style=color:#a6e22e>date</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;2017-02-23&#34;</span>
<span style=color:#f92672>+++</span>
</code></pre></div><p>If I want an image on top of the page I set <code>image = "images/photo.jpg"</code></p><p>When adding images in the post I use <code>![image title](/images/ilustrate.jpg)</code></p><h3 id=reviewing-the-post>Reviewing the post</h3><p>In a new terminal in folder website I run <code>hugo -D server</code><br>This will:</p><ul><li>generate the files to distribute, including drafts</li><li>start a web server on http://localhost:1313/</li><li>listen for changes in the files and regenerate so I can watch changes as I save edits</li></ul><h3 id=auto-deploy>Auto deploy</h3><p>When the post is done I push my changes to the GitHub master branch.<br>Then the server I use updates the web pages provided. This is done via a webhook that GitHub use to inform the web server that the branch has been updated.
I had great help in this article setting it up: <a href=https://serversforhackers.com/video/automating-deployment-from-github>https://serversforhackers.com/video/automating-deployment-from-github</a></p></section><footer class=post-footer><section class=author><h4><a href=https://www.hallgeirholien.no/>Hallgeir Holien</a></h4><p>Read <a href=https://www.hallgeirholien.no/>more posts</a> by this author.</p><div class=author-meta><span class="author-location icon-location">Trondheim, Norway</span>
<span class="author-link icon-link"><a href=https://hallgeirholien.no/>https://hallgeirholien.no/</a></span></div></section><section class=share><h4>Share this post</h4><a class=icon-twitter style=font-size:1.4em href="https://twitter.com/share?text=My%20workflow%20for%20posts&nbsp;-&nbsp;Welcome&url=https%3a%2f%2fwww.hallgeirholien.no%2fpost%2fsite-workflow%2f" onclick="window.open(this.href,'twitter-share','width=550,height=235');return false;"><span class=hidden>Twitter</span></a>
<a class=icon-facebook style=font-size:1.4em href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.hallgeirholien.no%2fpost%2fsite-workflow%2f" onclick="window.open(this.href,'facebook-share','width=580,height=296');return false;"><span class=hidden>Facebook</span></a>
<a class=icon-pinterest style=font-size:1.4em href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fwww.hallgeirholien.no%2fpost%2fsite-workflow%2f&description=My%20workflow%20for%20posts" onclick="window.open(this.href,'pinterest-share','width=580,height=296');return false;"><span class=hidden>Pinterest</span></a>
<a class=icon-google-plus style=font-size:1.4em href="https://plus.google.com/share?url=https%3a%2f%2fwww.hallgeirholien.no%2fpost%2fsite-workflow%2f" onclick="window.open(this.href,'google-plus-share','width=490,height=530');return false;"><span class=hidden>Google+</span></a></section></footer></article></main><aside class=read-next><a class=read-next-story style=background-image:url(/images/large_Eagle%20on%20watch.jpg) href=https://www.hallgeirholien.no/post/sitting-eagle/><section class=post><h2>First light with Sigma 150-600 S</h2></section></a><a class="read-next-story prev" style=no-cover href=https://www.hallgeirholien.no/post/via-github/><section class=post><h2>Direct posting via github</h2></section></a></aside><footer class="site-footer clearfix"><section class=copyright><a href>Welcome</a> All rights reserved - 2018</section><section class=poweredby>Proudly generated by <a class=icon-hugo href=http://gohugo.io>HUGO</a>, with <a class=icon-theme href=https://github.com/vjeantet/hugo-theme-casper>Casper</a> theme</section></footer></div><script type=text/javascript src=https://www.hallgeirholien.no/js/jquery.js></script><script type=text/javascript src=https://www.hallgeirholien.no/js/jquery.fitvids.js></script><script type=text/javascript src=https://www.hallgeirholien.no/js/index.js></script></body></html>